(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports={form:"login_form__1k2QK",title:"login_title__2DMmA"}},15:function(e,t,a){},17:function(e,t,a){e.exports=a(34)},22:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(13),l=a.n(c),o=(a(22),a(5)),s=a(14),i=a.n(s).a.initializeApp({apiKey:"AIzaSyBy-CDArcmrUVXl8QhPJhtI48MKBEJbwTE",authDomain:"chat-app-c9922.firebaseapp.com",databaseURL:"https://chat-app-c9922.firebaseio.com",projectId:"chat-app-c9922",storageBucket:"chat-app-c9922.appspot.com",messagingSenderId:"391063422709",appId:"1:391063422709:web:9be5cf51980a187f46a7bc"}),u=a(11),m=a.n(u),p=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),u=s[0],p=s[1],f=Object(n.useState)(""),d=Object(o.a)(f,2),g=d[0],b=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:m.a.title},"Sign in / Registration"),r.a.createElement("form",{className:m.a.form,onSubmit:function(e){e.preventDefault(),b(""),i.auth().signInWithEmailAndPassword(a,u).then((function(e){console.log("Successfully Logged In")})).catch((function(e){console.log("Error: "+e.toString()),b(e.toString())}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputEmail"},"Email address"),r.a.createElement("input",{value:a,onChange:function(e){return c(e.target.value)},type:"email",className:"form-control",id:"inputEmail","aria-describedby":"emailHelp",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputPassword"},"Password"),r.a.createElement("input",{value:u,onChange:function(e){return p(e.target.value)},type:"password",className:"form-control",id:"inputPassword",placeholder:"Password"})),r.a.createElement("button",{className:"btn btn-primary",style:{marginRight:20}},"Sign in"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),b(""),i.auth().createUserWithEmailAndPassword(a,u).then((function(e){console.log("Successfully Signed Up")})).catch((function(e){console.log("Error: "+e.toString()),b(e.toString())}))},className:"btn btn-info"},"Registration"),r.a.createElement("hr",null),g?r.a.createElement("div",{className:"alert alert-warning",role:"alert"},g):null))},f=a(8),d=a.n(f),g=a(16),b=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),l=Object(o.a)(c,2),s=l[0],u=l[1];return Object(n.useEffect)((function(){var e=i.firestore().collection("messages").onSnapshot((function(e){u(e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())})))}),(function(e){r(e)}));return function(){return e()}}),[u]),{error:a,masessages:s}},h=a(15),E=a.n(h);function v(e){for(var t=e.split("@")[0],a=[],n=0;n<t.length;n++)a.push(t.charCodeAt(n));var r=a.join("");return r.length<=2&&(r+="0000000"),r.length>6&&(r=r.substring(0,6)),function(e){var t=e>>16,a=(65280&e)>>8,n=255&e;return a=100*a/256,n=100*n/256,"rgba(".concat(t=100*t/256,",").concat(a,",").concat(n,",0.3)")}(r)}var y=function(e){var t=e.masessages.sort((function(e,t){return e.time>t.time?1:e.time<t.time?-1:0}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:E.a.ul},t.map((function(e){return r.a.createElement("li",{key:e.id,style:{backgroundColor:"".concat(v(e.user))}},r.a.createElement("span",null,e.user),":",r.a.createElement("p",null,e.message),r.a.createElement("small",null,function(e){var t=parseInt(e/6e4%60),a=parseInt(e/36e5%24);return(a=a<10?"0"+a:a)+3+":"+(t=t<10?"0"+t:t)}(e.time)))}))))},S=function(e){var t=e.user,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],s=c[1],u=b(),m=u.error,p=u.masessages;return Object(n.useEffect)((function(){window.myWrapper.scrollTop=window.myWrapper.scrollHeight})),r.a.createElement(r.a.Fragment,null,m?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445":r.a.createElement("div",{className:d.a.wrapper},r.a.createElement("div",{className:d.a.header},r.a.createElement("p",null,"Welcome, ",r.a.createElement("b",null," ",t.email)," "),r.a.createElement("button",{style:{fontSize:12},className:"btn btn-danger",onClick:function(){i.auth().signOut()}},"logout")),r.a.createElement("div",{className:d.a.body,id:"myWrapper"},r.a.createElement(y,{masessages:p})),r.a.createElement("div",{className:d.a.footer},r.a.createElement("input",{type:"text",value:l,onChange:function(e){return s(e.target.value)},className:d.a.input+" form-control",placeholder:"Enter message"}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),i.firestore().collection("messages").add({time:Date.now(),message:l,user:t.email})},className:"btn btn-primary",style:{marginRight:20}},"Sign in"))))},w=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){i.auth().onAuthStateChanged((function(e){c(e||null)}))})),r.a.createElement("div",{className:"App"},a?r.a.createElement(S,{user:a}):r.a.createElement(p,null))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))},8:function(e,t,a){e.exports={wrapper:"dashboard_wrapper__1AG7_",header:"dashboard_header__1fwJm",body:"dashboard_body__3PDvO",footer:"dashboard_footer__36ypw",input:"dashboard_input__3sIX2"}}},[[17,1,2]]]);
//# sourceMappingURL=main.c54b1eed.chunk.js.map